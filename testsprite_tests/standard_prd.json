{
  "meta": {
    "project": "ChordChart Pro v3.0",
    "date": "2025-09-08",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "ChordChart Pro v3.0 é uma aplicação web avançada para criação, gerenciamento e apresentação de cifras musicais, com funcionalidades robustas de autenticação segura, transposição automática, gerenciamento de setlists e visualização responsiva para múltiplos dispositivos.",
  "core_goals": [
    "Facilitar a criação, edição e organização de cifras musicais com interface intuitiva e responsiva.",
    "Garantir segurança robusta através de sistema de autenticação, proteção contra ataques e gerenciamento de usuários.",
    "Permitir transposição automática e ajuste via sistema de capo, preservando a qualidade e formatação das cifras.",
    "Oferecer gerenciamento completo de setlists musicais para profissionais e grupos musicais.",
    "Proporcionar visualização otimizada para dispositivos desktop, tablet e mobile, incluindo modos de apresentação avançados."
  ],
  "key_features": [
    "Sistema de autenticação seguro com login, logout, gerenciamento de sessão e proteção contra ataques de força bruta.",
    "Gerador de cifras com entrada de texto para letras e acordes, processamento automático e geração de saída formatada.",
    "Transposição automática de acordes para qualquer tom, com suporte a acordes complexos e preservação da formatação.",
    "Simulação e ajuste automático de capo em diferentes casas para alteração prática dos acordes.",
    "Gerenciamento completo de setlists com criação, edição, organização e associação de músicas.",
    "Visualização responsiva com modos desktop, tablet e mobile, menu hambúrguer, gestos touch e modo tela cheia para apresentações.",
    "Gerenciamento de usuários com funcionalidades para criação, edição, exclusão e alteração de senhas feitas por administradores.",
    "Recursos de segurança abrangentes incluindo hashing seguro de senhas, proteção CSRF, validação de entrada, headers de segurança e controle de acesso CORS."
  ],
  "user_flow_summary": [
    "Usuário realiza login seguro via interface de autenticação.",
    "Usuário insere letras e acordes musicais para gerar a cifra formatada automaticamente.",
    "Usuário utiliza controles para transposição dos acordes, podendo subir ou descer tom mantendo a formatação.",
    "Usuário ajusta a posição do capo simulando diferentes casas, com atualização automática dos acordes.",
    "Usuário cria, edita e organiza setlists musicais, adicionando ou removendo músicas conforme necessário.",
    "Usuário visualiza cifras com layouts adaptados ao dispositivo (desktop, tablet, mobile) com suporte a gestos touch e navegação via menu hambúrguer.",
    "Usuário administrador gerencia contas de usuários incluindo criação, edição, exclusão e alteração de senhas.",
    "Usuário pode imprimir cifras ou apresentar em modo tela cheia com controle de rolagem e otimização para impressão."
  ],
  "validation_criteria": [
    "Login autentica usuários válidos e protege contra ataques de força bruta com limitação de taxa.",
    "Geração de cifras processa corretamente texto com letras e acordes, gerando saída alinhada e legível.",
    "Transposição altera todos os acordes conforme tom selecionado preservando a formatação original.",
    "Sistema de capo ajusta acordes corretamente com base na posição selecionada.",
    "Gerenciamento de setlists permite criação, edição, exclusão, e ordenação correta das músicas dentro dos setlists.",
    "Visualização é responsiva e funcional em dispositivos desktop, tablet e mobile incluindo gestos touch e menu hambúrguer.",
    "Funcionalidades de administração de usuários permitem criação, edição, e exclusão segura de contas e alteração de senhas.",
    "Aplicação deve carregar rapidamente, responder instantaneamente à transposição e manter operações offline básicas como PWA.",
    "Validações de segurança como hashing de senha, proteção CSRF, headers e validações de entrada devem estar em funcionamento.",
    "Aplicação deve funcionar corretamente em diferentes navegadores modernos (Chrome, Firefox, Safari, Edge) e em sistemas iOS e Android."
  ],
  "code_summary": {
    "project_name": "ChordChart Pro v3.0",
    "description": "Aplicação web avançada para criação e gerenciamento de cifras musicais com sistema de login seguro e funcionalidades de setlist",
    "tech_stack": {
      "frontend": {
        "languages": [
          "HTML5",
          "CSS3",
          "JavaScript"
        ],
        "frameworks": [
          "Tailwind CSS"
        ],
        "features": [
          "PWA",
          "Responsive Design",
          "Mobile-First",
          "Touch Gestures"
        ]
      },
      "backend": {
        "language": "Python",
        "framework": "Flask",
        "database": "SQLite",
        "libraries": [
          "Flask-Login",
          "Flask-CORS",
          "Werkzeug"
        ]
      },
      "infrastructure": {
        "containerization": "Docker",
        "orchestration": "Docker Compose",
        "web_server": "Nginx",
        "deployment": "LXC Proxmox + Cloudflare Tunnel"
      }
    },
    "main_features": [
      {
        "name": "Sistema de Autenticação",
        "description": "Login seguro com usuário e senha, gerenciamento de sessão, proteção contra ataques de força bruta",
        "endpoints": [
          "/api/login",
          "/api/logout",
          "/api/check_auth"
        ]
      },
      {
        "name": "Gerador de Cifras",
        "description": "Entrada de texto para letras e acordes, processamento automático, geração de saída formatada",
        "endpoints": [
          "/api/songs"
        ]
      },
      {
        "name": "Transposição de Acordes",
        "description": "Transposição automática para diferentes tons, preservação da formatação, suporte a acordes complexos",
        "frontend_feature": true
      },
      {
        "name": "Sistema de Capo",
        "description": "Simulação de capo em diferentes casas, ajuste automático dos acordes",
        "frontend_feature": true
      },
      {
        "name": "Gerenciamento de Setlists",
        "description": "Criação, edição e organização de setlists musicais",
        "endpoints": [
          "/api/setlists",
          "/api/setlists/<id>/songs"
        ]
      },
      {
        "name": "Visualização Responsiva",
        "description": "Modo desktop, tablet e mobile, menu hambúrguer, gestos touch, modo tela cheia",
        "frontend_feature": true
      },
      {
        "name": "Gerenciamento de Usuários",
        "description": "Criação, edição e exclusão de usuários (admin), alteração de senhas",
        "endpoints": [
          "/api/users"
        ]
      }
    ],
    "security_features": [
      "Rate limiting para login",
      "Hashing seguro de senhas (Werkzeug)",
      "Proteção CSRF",
      "Headers de segurança",
      "Validação de entrada",
      "Sessões seguras",
      "CORS configurado"
    ],
    "database_schema": {
      "tables": [
        {
          "name": "users",
          "columns": [
            "id",
            "username",
            "password_hash"
          ]
        },
        {
          "name": "songs",
          "columns": [
            "id",
            "title",
            "content",
            "original_key",
            "user_id",
            "is_public",
            "capo_position",
            "duration",
            "bpm",
            "created_at"
          ]
        },
        {
          "name": "setlists",
          "columns": [
            "id",
            "name",
            "user_id",
            "is_public",
            "created_at"
          ]
        },
        {
          "name": "setlist_songs",
          "columns": [
            "id",
            "setlist_id",
            "song_id",
            "position"
          ]
        }
      ]
    },
    "api_endpoints": {
      "authentication": [
        "POST /api/login",
        "POST /api/logout",
        "GET /api/check_auth"
      ],
      "users": [
        "POST /api/users",
        "GET /api/users",
        "DELETE /api/users/<id>",
        "POST /api/users/change_password"
      ],
      "songs": [
        "GET /api/songs",
        "POST /api/songs",
        "GET /api/songs/<id>",
        "PUT /api/songs/<id>",
        "DELETE /api/songs/<id>"
      ],
      "setlists": [
        "GET /api/setlists",
        "POST /api/setlists",
        "GET /api/setlists/<id>",
        "DELETE /api/setlists/<id>",
        "POST /api/setlists/<id>/songs",
        "DELETE /api/setlists/<id>/songs/<song_id>",
        "PUT /api/setlists/<id>/songs/order",
        "PUT /api/setlists/<id>/visibility",
        "GET /api/setlists/<id>/available-songs"
      ]
    },
    "deployment_info": {
      "frontend_url": "http://localhost:3000",
      "backend_url": "http://localhost:5000",
      "production_port": "8080",
      "docker_services": [
        "backend",
        "frontend"
      ],
      "environment_files": [
        ".env",
        "env.example",
        "env.production"
      ]
    },
    "test_credentials": {
      "username": "testuser",
      "password": "Oxm!kyIo0oh2"
    },
    "file_structure": {
      "root_files": [
        "docker-compose.yml",
        "nginx.conf",
        "README.md",
        "PRD-ChordChart.md"
      ],
      "app_directory": [
        "index.html",
        "manifest.json"
      ],
      "backend_directory": [
        "app.py",
        "requirements.txt",
        "Dockerfile",
        "create_user.py"
      ]
    },
    "quality_assurance": {
      "documentation": "Completa com PRD, README e guias de deploy",
      "security_check": "Script security_check.py disponível",
      "user_management": "Scripts para criação e gerenciamento de usuários",
      "production_ready": "Configurações específicas para produção com SSL e Cloudflare"
    }
  }
}
